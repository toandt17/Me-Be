!function(s,i){s.fn.yith_wccl=function(){var t=this,e=(t.data("last_change"),t.find(".variations select"));return this.clean=function(){return t.find(".select_box").remove(),this},this.generateOutput=function(){return e.each(function(){var i=s(this),n=s(this).data("type"),c=s("<div />",{"class":"select_box_"+n+" select_box "+i.attr("name")}).insertAfter(i);i.removeData("last_content"),i.find("option").each(function(){var t,e,a;s(this).data("value")&&(a="select_option_"+n+" select_option",t=s(this).data("value"),e=s(this),a=s("<div/>",{"class":a}).data("value",s(this).attr("value")).data("option",e.clone(!0)).appendTo(c).off("click").on("click",function(t){(s(this).hasClass("selected")?i.val(""):(t.preventDefault(),i.val(e.val()))).change()}),"colorpicker"==n?(a.append(s('<div class="yith_wccl_value_wrapper"><span class="yith_wccl_value"></span></div>')),a.find(".yith_wccl_value").css({background:t})):"image"==n?(a.append(s('<div class="yith_wccl_value_wrapper"><img class="yith_wccl_value"/></div>')),a.find(".yith_wccl_value").attr("src",t).attr("alt",n)):"label"==n&&(a.append(s('<div class="yith_wccl_value_wrapper"><span class="yith_wccl_value"></span></div>')),a.find(".yith_wccl_value").text(t)))})}).filter(function(){return"select"!=s(this).data("type")}).hide(),t},this.onSelect=function(){return e.each(function(){var t=s(this).val(),e=(e=(e=s(this).next(".select_box")).length?e:s(this).siblings(".select_box")).find(".select_option").removeClass("selected");t&&e.filter(function(){return s(this).data("value")==t}).addClass("selected")}),t},this.updateOptions=function(){return"undefined"!=typeof yith_wccl_arg&&t.find(".variations select").each(function(t,e){var a=s(this),i=a.val(),n=a.data("active_options")?a.data("active_options"):a.data("attribute_options");if(!n)return!1;""!=i?s.each(n,function(t,e){a.append(e)}):a.data("active_options",a.find("option").get())}),t},this.updateOptions().clean().generateOutput().onSelect()},jQuery(function(t){var e=t(".variations_form"),a=e.find(".variations select");t(i).on("yith_wccl_change check_variations",e,function(){t(this).yith_wccl()}).trigger("yith_wccl_change"),t(i).on("change",a,function(){e.data("last_change",t(this).attr("name")),t(this).data("last_content",t(this).siblings(".select_box").clone(!0))}),t(i).on("click",".reset_variations",function(){a.removeData("last_content"),e.removeData("last_change")}),a.trigger("focusin")})}(jQuery,(window,document));